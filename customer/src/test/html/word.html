<html>

<head>
    <script type="text/javascript">
        var maxstrlen = 200;
        function Q(s) {
            return document.getElementById(s);
        }
        function checkWords(c) {
            len = maxstrlen;
            var str = c.value;
            myLen = getStrleng(str);
            var wck = Q("wordCheck");
            if (myLen > len * 2) {
                c.value = str.substring(0, i + 1);
            } else {
                wck.innerHTML = Math.floor((len * 2 - myLen) / 2);
            }
        }
        function getStrleng(str) {
            myLen = 0;
            i = 0;
            for (; (i < str.length) && (myLen <= maxstrlen * 2); i++) {
                if (str.charCodeAt(i) > 0 && str.charCodeAt(i) < 128)
                    myLen++;
                else
                    myLen += 2;
            }
            return myLen;
        }
    </script>

</head>

<body>



    <div>
        <textarea name="content" id="content" onkeyup="javascript:checkWords(this);"
            onmousedown="javascript:checkWords(this);"></textarea>
    </div>
    <div>
        还可以输入<span style="font-family: Georgia; font-size: 26px;" id="wordCheck">200</span>个汉字
    </div>



</body>


</html>